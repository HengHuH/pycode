# -*- coding: utf-8 -*-

from merge_fun import merge_func

if __name__ == '__main__':
    class A():
        def __init__(self):
            self.b = 2
            pass

    def f1(self, dt):
        print(min(1, 2))
        a = 1
        if a:
            return 1
        if 1 + 2:
            print(1, dt)
            return 2
        else:
            print(3)
            return 4

    def f_cell(self, dt):
        a = 1
        b = [x * a * self.b for x in range(self.b)]
        print(b)

    def f_extarg(self, dt):
        print(f"test cell {self.b}")
        b = A()
        b.a0 = 0
        b.a1 = 1
        b.a2 = 2
        b.a3 = 3
        b.a4 = 4
        b.a5 = 5
        b.a6 = 6
        b.a7 = 7
        b.a8 = 8
        b.a9 = 9
        b.a10 = 10
        b.a11 = 11
        b.a12 = 12
        b.a13 = 13
        b.a14 = 14
        b.a15 = 15
        b.a16 = 16
        b.a17 = 17
        b.a18 = 18
        b.a19 = 19
        b.a20 = 20
        b.a21 = 21
        b.a22 = 22
        b.a23 = 23
        b.a24 = 24
        b.a25 = 25
        b.a26 = 26
        b.a27 = 27
        b.a28 = 28
        b.a29 = 29
        b.a30 = 30
        b.a31 = 31
        b.a32 = 32
        b.a33 = 33
        b.a34 = 34
        b.a35 = 35
        b.a36 = 36
        b.a37 = 37
        b.a38 = 38
        b.a39 = 39
        b.a40 = 40
        b.a41 = 41
        b.a42 = 42
        b.a43 = 43
        b.a44 = 44
        b.a45 = 45
        b.a46 = 46
        b.a47 = 47
        b.a48 = 48
        b.a49 = 49
        b.a50 = 50
        b.a51 = 51
        b.a52 = 52
        b.a53 = 53
        b.a54 = 54
        b.a55 = 55
        b.a56 = 56
        b.a57 = 57
        b.a58 = 58
        b.a59 = 59
        b.a60 = 60
        b.a61 = 61
        b.a62 = 62
        b.a63 = 63
        b.a64 = 64
        b.a65 = 65
        b.a66 = 66
        b.a67 = 67
        b.a68 = 68
        b.a69 = 69
        b.a70 = 70
        b.a71 = 71
        b.a72 = 72
        b.a73 = 73
        b.a74 = 74
        b.a75 = 75
        b.a76 = 76
        b.a77 = 77
        b.a78 = 78
        b.a79 = 79
        b.a80 = 80
        b.a81 = 81
        b.a82 = 82
        b.a83 = 83
        b.a84 = 84
        b.a85 = 85
        b.a86 = 86
        b.a87 = 87
        b.a88 = 88
        b.a89 = 89
        b.a90 = 90
        b.a91 = 91
        b.a92 = 92
        b.a93 = 93
        b.a94 = 94
        b.a95 = 95
        b.a96 = 96
        b.a97 = 97
        b.a98 = 98
        b.a99 = 99
        b.a100 = 100
        b.a101 = 101
        b.a102 = 102
        b.a103 = 103
        b.a104 = 104
        b.a105 = 105
        b.a106 = 106
        b.a107 = 107
        b.a108 = 108
        b.a109 = 109
        b.a110 = 110
        b.a111 = 111
        b.a112 = 112
        b.a113 = 113
        b.a114 = 114
        b.a115 = 115
        b.a116 = 116
        b.a117 = 117
        b.a118 = 118
        b.a119 = 119
        b.a120 = 120
        b.a121 = 121
        b.a122 = 122
        b.a123 = 123
        b.a124 = 124
        b.a125 = 125
        b.a126 = 126
        b.a127 = 127
        b.a128 = 128
        b.a129 = 129
        b.a130 = 130
        b.a131 = 131
        b.a132 = 132
        b.a133 = 133
        b.a134 = 134
        b.a135 = 135
        b.a136 = 136
        b.a137 = 137
        b.a138 = 138
        b.a139 = 139
        b.a140 = 140
        b.a141 = 141
        b.a142 = 142
        b.a143 = 143
        b.a144 = 144
        b.a145 = 145
        b.a146 = 146
        b.a147 = 147
        b.a148 = 148
        b.a149 = 149
        b.a150 = 150
        b.a151 = 151
        b.a152 = 152
        b.a153 = 153
        b.a154 = 154
        b.a155 = 155
        b.a156 = 156
        b.a157 = 157
        b.a158 = 158
        b.a159 = 159
        b.a160 = 160
        b.a161 = 161
        b.a162 = 162
        b.a163 = 163
        b.a164 = 164
        b.a165 = 165
        b.a166 = 166
        b.a167 = 167
        b.a168 = 168
        b.a169 = 169
        b.a170 = 170
        b.a171 = 171
        b.a172 = 172
        b.a173 = 173
        b.a174 = 174
        b.a175 = 175
        b.a176 = 176
        b.a177 = 177
        b.a178 = 178
        b.a179 = 179
        b.a180 = 180
        b.a181 = 181
        b.a182 = 182
        b.a183 = 183
        b.a184 = 184
        b.a185 = 185
        b.a186 = 186
        b.a187 = 187
        b.a188 = 188
        b.a189 = 189
        b.a190 = 190
        b.a191 = 191
        b.a192 = 192
        b.a193 = 193
        b.a194 = 194
        b.a195 = 195
        b.a196 = 196
        b.a197 = 197
        b.a198 = 198
        b.a199 = 199
        b.a200 = 200
        b.a201 = 201
        b.a202 = 202
        b.a203 = 203
        b.a204 = 204
        b.a205 = 205
        b.a206 = 206
        b.a207 = 207
        b.a208 = 208
        b.a209 = 209
        b.a210 = 210
        b.a211 = 211
        b.a212 = 212
        b.a213 = 213
        b.a214 = 214
        b.a215 = 215
        b.a216 = 216
        b.a217 = 217
        b.a218 = 218
        b.a219 = 219
        b.a220 = 220
        b.a221 = 221
        b.a222 = 222
        b.a223 = 223
        b.a224 = 224
        b.a225 = 225
        b.a226 = 226
        b.a227 = 227
        b.a228 = 228
        b.a229 = 229
        b.a230 = 230
        b.a231 = 231
        b.a232 = 232
        b.a233 = 233
        b.a234 = 234
        b.a235 = 235
        b.a236 = 236
        b.a237 = 237
        b.a238 = 238
        b.a239 = 239
        b.a240 = 240
        b.a241 = 241
        b.a242 = 242
        b.a243 = 243
        b.a244 = 244
        b.a245 = 245
        b.a246 = 246
        b.a247 = 247
        b.a248 = 248
        b.a249 = 249
        b.a250 = 250
        b.a251 = 251
        b.a252 = 252
        b.a253 = 253
        b.a254 = 254
        b.a255 = 255
        b.a256 = 256
        for i in range(10):
            b.a258 = 1
            print(b.a258, dt)
        b.a257 = 257

    def f_exc(self, dt):
        try:
            print(4, dt)
            raise RuntimeError
        except:
            print("error runtime")
        finally:
            print("finaly.", dt)

    merge_list = [f1, f_cell, f_extarg, f_exc]
    f_merged = merge_func("f_merge", merge_list)

    print('\n')
    print("--- call each origin function ---")
    for f in merge_list:
        f(A(), "hi")
    print("--- call merged function ---")
    f_merged(A(), "hi")
